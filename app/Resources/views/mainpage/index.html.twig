{% extends 'base.html.twig' %}

{% block title %}
    KARATE RZESZOW
{% endblock %}



{% block content %}

    <form action="{{ path('karate_search') }}">
        <input type="text" value="{{ searchParam is defined ? searchParam : '' }}" name="search" placeholder="Wyszukaj">
    </form>

    {% if app.user %}
        <a href="{{ path('fos_user_security_logout') }}">Wyloguj się</a>
    {% else %}
        <a href="{{ path('easyadmin') }}">Zaloguj się</a>
    {% endif %}

    {#List of posts header#}
    {% block listTitle %}
        <h2>{{ listTitle }}</h2>
    {% endblock %}

    {#Post section#}
    {% for post in pagination %}
        <article class="post">
            <header>
                <h1>{{ post.title }}</h1>
                <div class="meta-data">
                    <div class="author">Autor <a href="#" alt="Autor postu">{{ post.author }}</a></div>
                    <div class="create-date">Dodano {{ post.publishedDate|date('d.m.Y, H:m') }}</div>
                </div>
             </header>

            <div class="thumbnail">
                <div class="meta-data">
                    <div class="categories">
                        Kategoria:
                        <a href="{{ path('karate_category', {'slug':post.category.slug}) }}" alt="Nazwy kategorii przypisanych do postu">{{ post.category.name }}</a>
                    </div>

                    <div class="tags">
                        Tagi:

                        {% for tag in post.tags %}
                            <a href="{{ path('karate_tag', {'slug':tag.slug}) }}">{{ tag.name }}</a>
                        {% endfor %}
                    </div>
                </div>

                {#<img src="" alt=""> TODO: Thumbnail upload #}
            </div>
                {{ post.content|raw }}

            <footer>

                <a href="{{ path('karate_single_post', {'slug':post.slug}) }}" class="btn-green">Czytaj całość [...]</a>
            </footer>

        </article>
    {% endfor %}

    {{ knp_pagination_render(pagination,'Pagination/pagination.html.twig') }}

{% endblock %}


{% block stylesheets %}
    {{ parent() }}
{% endblock %}